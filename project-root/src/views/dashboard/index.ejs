<!-- src/views/dashboard/index.ejs -->
<div class="container">
  <section class="hero">
    <h1><i class="fas fa-bed"></i> Encuentra tu Habitación Ideal</h1>
    <p>Reserva fácil y rápido en los mejores hoteles</p>
  </section>

  <div class="search-box">
    <h2><i class="fas fa-search"></i> Buscar por Ubicación</h2>
    <form action="/dashboard/hotel" method="GET" id="searchForm">
      <div class="form-group">
        <label for="hotel">Selecciona una dirección:</label>
        <select name="id" id="hotel" required onchange="document.getElementById('searchForm').submit()">
          <option value="">-- Selecciona un hotel --</option>
          <% data.hoteles.forEach(hotel => { %>
            <option value="<%= hotel.id_hotel %>">
              <%= hotel.direccion %> - <%= hotel.nombre %> (<%= hotel.total_habitaciones %> habitaciones)
            </option>
          <% }) %>
        </select>
      </div>
    </form>
  </div>

  <section style="margin-top: 4rem;">
    <h2 style="text-align: center; margin-bottom: 2rem; color: var(--text-dark);">
      <i class="fas fa-star"></i> Hoteles Disponibles
    </h2>
    <div class="rooms-grid">
      <% data.hoteles.slice(0, 6).forEach(hotel => { %>
        <div class="room-card">
          <div class="room-card-image">
            <i class="fas fa-hotel"></i>
          </div>
          <div class="room-card-content">
            <h3 class="room-card-title"><%= hotel.nombre %></h3>
            <p style="color: var(--text-light); margin-bottom: 1rem;">
              <i class="fas fa-map-marker-alt"></i> <%= hotel.direccion %>
            </p>
            <div class="room-card-info">
              <span class="info-badge">
                <i class="fas fa-door-open"></i>
                <%= hotel.total_habitaciones %> habitaciones
              </span>
              <span class="info-badge">
                <i class="fas fa-star"></i>
                <%= hotel.categoria || 'Estándar' %>
              </span>
            </div>
            <a href="/dashboard/hotel/<%= hotel.id_hotel %>" class="btn btn-block">
              Ver Habitaciones <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </div>
      <% }) %>
    </div>
  </section>
</div>
