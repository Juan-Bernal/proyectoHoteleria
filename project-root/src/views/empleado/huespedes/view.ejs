<!-- src/views/empleado/huespedes/view.ejs -->
<h1>Perfil del Huésped</h1>

<div class="perfil-card">
  <h2><%= data.nombre %></h2>
  <div class="info-grid">
    <p><strong>Cédula:</strong> <%= data.cedula %></p>
    <p><strong>Correo:</strong> <%= data.correo %></p>
    <p><strong>Teléfono:</strong> <%= data.telefono %></p>
    <p><strong>Fecha Nacimiento:</strong> <%= new Date(data.fecha_nacimiento).toLocaleDateString() %></p>
  </div>
</div>

<h3>Historial de Estancias</h3>
<table>
  <thead>
    <tr>
      <th>Hotel</th>
      <th>Entrada</th>
      <th>Salida</th>
      <th>Estado</th>
    </tr>
  </thead>
  <tbody>
    <% if (data.historial && data.historial.length > 0) { %>
      <% data.historial.forEach(r => { %>
        <tr>
          <td><%= r.nombre_hotel %></td>
          <td><%= new Date(r.fecha_inicio).toLocaleDateString() %></td>
          <td><%= new Date(r.fecha_fin).toLocaleDateString() %></td>
          <td><%= r.estado %></td>
        </tr>
      <% }) %>
    <% } else { %>
      <tr><td colspan="4">No hay historial disponible.</td></tr>
    <% } %>
  </tbody>
</table>

<style>
.perfil-card {
  background: white;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  margin-bottom: 30px;
}
.info-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
}
</style>
